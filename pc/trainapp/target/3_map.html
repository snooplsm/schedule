<!DOCTYPE html>
	<html>
	  <head>
	    <title>Google Maps JavaScript API v3 Example: Map Simple</title>
	    <meta name="viewport"
	        content="width=device-width, initial-scale=1.0, user-scalable=no">
	    <meta charset="UTF-8">
	    <style type="text/css">
	      html, body, #map_canvas {
	        margin: 0;
	        padding: 0;
	        height: 100%;
	      }
	    </style>
	    <script type="text/javascript"
	        src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
	    <script type="text/javascript">
	      var map;
		  var stationCircle;
		function Label(opt_options) {
		 // Initialization
		 this.setValues(opt_options);

		 // Label specific
		 var span = this.span_ = document.createElement('span');
		 span.style.cssText = 'position: relative; left: -50%; top: -8px; ' +
		                      'white-space: nowrap; font:9px arial,sans-serif; background-color: white; '

		 var div = this.div_ = document.createElement('div');
		 div.appendChild(span);
		 div.style.cssText = 'position: absolute; display: none';
		};
		Label.prototype = new google.maps.OverlayView;

		// Implement onAdd
		Label.prototype.onAdd = function() {
		 var pane = this.getPanes().overlayLayer;
		 pane.appendChild(this.div_);

		 // Ensures the label is redrawn if the text or position is changed.
		 var me = this;
		 this.listeners_ = [
		   google.maps.event.addListener(this, 'position_changed',
		       function() { me.draw(); }),
		   google.maps.event.addListener(this, 'text_changed',
		       function() { me.draw(); })
		 ];
		};

		// Implement onRemove
		Label.prototype.onRemove = function() {
		 this.div_.parentNode.removeChild(this.div_);

		 // Label is removed from the map, stop updating its position/text.
		 for (var i = 0, I = this.listeners_.length; i < I; ++i) {
		   google.maps.event.removeListener(this.listeners_[i]);
		 }
		};

		// Implement draw
		Label.prototype.draw = function() {
		 var projection = this.getProjection();
		 var position = projection.fromLatLngToDivPixel(this.get('position'));

		 var div = this.div_;
		 div.style.left = position.x + 'px';
		 div.style.top = position.y + 'px';
		 div.style.display = 'block';

		 this.span_.innerHTML = this.get('text').toString();
		};
		function rad(x) {return x*Math.PI/180;}

		function dist(p1, p2) {
		  var R = 6371; // earth's mean radius in km
		  var dLat  = rad(p2.lat() - p1.lat());
		  var dLong = rad(p2.lng() - p1.lng());

		  var a = Math.sin(dLat/2) * Math.sin(dLat/2) +
		          Math.cos(rad(p1.lat())) * Math.cos(rad(p2.lat())) * Math.sin(dLong/2) * Math.sin(dLong/2);
		  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
		  var d = R * c;

		  return d.toFixed(3);
		}
	      function initialize() {
	        var myOptions = {
	          zoom: 8,
	          center: new google.maps.LatLng(40.497278, -74.445751),
	          mapTypeId: google.maps.MapTypeId.ROADMAP
	        };
	        map = new google.maps.Map(document.getElementById('map_canvas'),
	            myOptions);			
			stations = [{'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '42545', 'name': 'PENN STATION LIGHT RAIL'},{'lat': 40.896590000000003, 'lon': -74.632731000000007, 'id': '39472', 'name': 'MOUNT ARLINGTON'},{'lat': 40.710377999999999, 'lon': -74.055812000000003, 'id': '36998', 'name': 'LIBERTY STATE PARK PARK-RIDE HBLR'},{'lat': 40.758538000000001, 'lon': -74.184980999999993, 'id': '6966', 'name': 'PARK AVE NEWARK LIGHT RAIL STATION'},{'lat': 40.935146000000003, 'lon': -74.029139999999998, 'id': '132', 'name': 'RIVER EDGE'},{'lat': 40.980629, 'lon': -74.120592000000002, 'id': '131', 'name': 'RIDGEWOOD'},{'lat': 40.348284, 'lon': -74.074538000000004, 'id': '130', 'name': 'RED BANK'},{'lat': 41.157138000000003, 'lon': -74.191306999999995, 'id': '137', 'name': 'SLOATSBURG'},{'lat': 40.725248999999998, 'lon': -74.323753999999994, 'id': '136', 'name': 'SHORT HILLS'},{'lat': 41.437072999999998, 'lon': -74.101871000000003, 'id': '135', 'name': 'SALISBURY MILLS-CORNWALL'},{'lat': 40.828248000000002, 'lon': -74.100562999999994, 'id': '134', 'name': 'RUTHERFORD'},{'lat': 40.484307999999999, 'lon': -74.280140000000003, 'id': '139', 'name': 'SOUTH AMBOY'},{'lat': 40.566074999999998, 'lon': -74.613969999999995, 'id': '138', 'name': 'SOMERVILLE'},{'lat': 40.559905999999998, 'lon': -74.551741000000007, 'id': '24', 'name': 'BRIDGEWATER'},{'lat': 40.922505000000001, 'lon': -74.115235999999996, 'id': '25', 'name': 'BROADWAY'},{'lat': 41.450916999999997, 'lon': -74.266553999999999, 'id': '26', 'name': 'CAMPBELL HALL'},{'lat': 40.740136999999997, 'lon': -74.384811999999997, 'id': '27', 'name': 'CHATHAM'},{'lat': 40.903377999999996, 'lon': -74.407736, 'id': '20', 'name': 'BOONTON'},{'lat': 40.560929000000002, 'lon': -74.530617000000007, 'id': '21', 'name': 'BOUND BROOK'},{'lat': 40.203750999999997, 'lon': -74.018890999999996, 'id': '22', 'name': 'BRADLEY BEACH'},{'lat': 40.765134000000003, 'lon': -74.218611999999993, 'id': '23', 'name': 'BRICK CHURCH'},{'lat': 40.205409000000003, 'lon': -74.754312999999996, 'id': '38293', 'name': 'CASS STREET'},{'lat': 40.843974000000003, 'lon': -74.078719000000007, 'id': '160', 'name': 'WOOD RIDGE'},{'lat': 40.218347999999999, 'lon': -74.755194000000003, 'id': '38291', 'name': 'TRENTON TRANSIT CENTER'},{'lat': 39.928446999999998, 'lon': -75.041661000000005, 'id': '28', 'name': 'CHERRY HILL'},{'lat': 40.867998, 'lon': -74.153203000000005, 'id': '29', 'name': 'CLIFTON'},{'lat': 40.116909, 'lon': -74.770201999999998, 'id': '38295', 'name': 'ROEBLING'},{'lat': 40.148110000000003, 'lon': -74.716271000000006, 'id': '38294', 'name': 'BORDENTOWN'},{'lat': 40.734059000000002, 'lon': -74.029191999999995, 'id': '39348', 'name': 'HOBOKEN HBLR TERMINAL'},{'lat': 40.237659000000001, 'lon': -74.006769000000006, 'id': '4', 'name': 'ALLENHURST'},{'lat': 40.215358999999999, 'lon': -74.014786000000001, 'id': '8', 'name': 'ASBURY PARK'},{'lat': 40.745319000000002, 'lon': -74.183032999999995, 'id': '6957', 'name': 'NORFOLK AND CENTRAL LIGHT RAIL STATION'},{'lat': 40.509397999999997, 'lon': -74.273752000000002, 'id': '119', 'name': 'PERTH AMBOY'},{'lat': 40.742420000000003, 'lon': -74.181229999999999, 'id': '6995', 'name': 'WARREN STREET LIGHT RAIL STATION'},{'lat': 40.738289999999999, 'lon': -74.174070999999998, 'id': '6997', 'name': 'WASHINGTON STREET LIGHT RAIL STATION'},{'lat': 40.618425000000002, 'lon': -74.420163000000002, 'id': '120', 'name': 'PLAINFIELD'},{'lat': 40.884915999999997, 'lon': -74.102694999999997, 'id': '121', 'name': 'PLAUDERVILLE'},{'lat': 40.092717999999998, 'lon': -74.048191000000003, 'id': '122', 'name': 'POINT PLEASANT'},{'lat': 41.374898999999999, 'lon': -74.694621999999995, 'id': '123', 'name': 'PORT JERVIS'},{'lat': 40.342624999999998, 'lon': -74.659091000000004, 'id': '124', 'name': 'PRINCETON'},{'lat': 40.316316, 'lon': -74.623752999999994, 'id': '125', 'name': 'PRINCETON JCT.'},{'lat': 40.939915999999997, 'lon': -74.121613999999994, 'id': '126', 'name': 'RADBURN'},{'lat': 40.606338000000001, 'lon': -74.276691999999997, 'id': '127', 'name': 'RAHWAY'},{'lat': 41.056421999999998, 'lon': -74.141876999999994, 'id': '128', 'name': 'RAMSEY'},{'lat': 40.571007000000002, 'lon': -74.634364000000005, 'id': '129', 'name': 'RARITAN'},{'lat': 41.058180999999998, 'lon': -74.022317000000001, 'id': '118', 'name': 'PEARL RIVER'},{'lat': 40.415385000000001, 'lon': -74.190393, 'id': '59', 'name': 'HAZLET'},{'lat': 40.942538999999996, 'lon': -74.152411000000001, 'id': '58', 'name': 'HAWTHORNE'},{'lat': 39.631672999999999, 'lon': -74.799459999999996, 'id': '55', 'name': 'HAMMONTON'},{'lat': 40.851444000000001, 'lon': -74.835352, 'id': '54', 'name': 'HACKETTSTOWN'},{'lat': 41.293354000000001, 'lon': -74.139870000000002, 'id': '57', 'name': 'HARRIMAN'},{'lat': 40.961370000000002, 'lon': -74.129300000000001, 'id': '51', 'name': 'GLEN ROCK BORO HALL'},{'lat': 40.80059, 'lon': -74.204655000000002, 'id': '50', 'name': 'GLEN RIDGE'},{'lat': 41.075130000000001, 'lon': -74.145484999999994, 'id': '38417', 'name': 'RAMSEY ROUTE 17 STATION'},{'lat': 40.962206000000002, 'lon': -74.133484999999993, 'id': '52', 'name': 'GLEN ROCK MAIN LINE'},{'lat': 40.780316999999997, 'lon': -74.187931000000006, 'id': '38065', 'name': 'GROVE STREET LIGHT RAIL STATION'},{'lat': 40.775919000000002, 'lon': -74.012921000000006, 'id': '9878', 'name': 'PORT IMPERIAL HBLR STATION'},{'lat': 40.849412999999998, 'lon': -74.133930000000007, 'id': '115', 'name': 'PASSAIC'},{'lat': 41.032305000000001, 'lon': -74.036163999999999, 'id': '114', 'name': 'PARK RIDGE'},{'lat': 40.673515000000002, 'lon': -74.523606000000001, 'id': '88', 'name': 'MILLINGTON'},{'lat': 40.857536000000003, 'lon': -74.202500000000001, 'id': '89', 'name': 'MONTCLAIR HEIGHTS'},{'lat': 40.953477999999997, 'lon': -74.029983000000001, 'id': '111', 'name': 'ORADELL'},{'lat': 40.910856000000003, 'lon': -74.035043999999999, 'id': '110', 'name': 'NEW BRIDGE LANDING'},{'lat': 41.471786000000002, 'lon': -74.529211000000004, 'id': '113', 'name': 'OTISVILLE'},{'lat': 40.771883000000003, 'lon': -74.233103, 'id': '112', 'name': 'ORANGE'},{'lat': 40.568640000000002, 'lon': -74.329393999999994, 'id': '83', 'name': 'METROPARK'},{'lat': 40.731149000000002, 'lon': -74.275426999999993, 'id': '81', 'name': 'MAPLEWOOD'},{'lat': 41.457487999999998, 'lon': -74.37039, 'id': '86', 'name': 'MIDDLETOWN NY'},{'lat': 40.725622000000001, 'lon': -74.303754999999995, 'id': '87', 'name': 'MILLBURN'},{'lat': 40.540736000000003, 'lon': -74.360670999999996, 'id': '84', 'name': 'METUCHEN'},{'lat': 40.389780000000002, 'lon': -74.116130999999996, 'id': '85', 'name': 'MIDDLETOWN NJ'},{'lat': 40.750629000000004, 'lon': -74.184950999999998, 'id': '14986', 'name': 'ORANGE STREET LIGHT RAIL STATION'},{'lat': 40.900253999999997, 'lon': -74.256970999999993, 'id': '39635', 'name': 'WAYNE/ROUTE 23 TRANSIT CENTER [RR]'},{'lat': 40.779637999999998, 'lon': -74.174751999999998, 'id': '26316', 'name': 'BRANCH BROOK PARK STATION'},{'lat': 41.030901999999998, 'lon': -74.130956999999995, 'id': '3', 'name': 'ALLENDALE'},{'lat': 40.745628000000004, 'lon': -74.169280999999998, 'id': '39131', 'name': 'RIVERFRONT STADIUM LIGHT RAIL STOP'},{'lat': 40.743938, 'lon': -74.169853000000003, 'id': '39132', 'name': 'WASHINGTON PARK LIGHT RAIL STOP'},{'lat': 40.869782000000001, 'lon': -74.197439000000003, 'id': '38081', 'name': 'MSU'},{'lat': 40.061120000000003, 'lon': -74.915131000000002, 'id': '38299', 'name': 'BEVERLY/EDGEWATER PARK'},{'lat': 40.592019999999998, 'lon': -74.683802, 'id': '108', 'name': 'NORTH BRANCH'},{'lat': 40.680264999999999, 'lon': -74.206164999999999, 'id': '109', 'name': 'NORTH ELIZABETH'},{'lat': 40.629148000000001, 'lon': -74.403454999999994, 'id': '102', 'name': 'NETHERWOOD'},{'lat': 40.497278000000001, 'lon': -74.445751000000001, 'id': '103', 'name': 'NEW BRUNSWICK'},{'lat': 41.090015000000001, 'lon': -74.014793999999995, 'id': '100', 'name': 'NANUET'},{'lat': 40.897554, 'lon': -74.707317000000003, 'id': '101', 'name': 'NETCONG'},{'lat': 40.747621000000002, 'lon': -74.171942999999999, 'id': '106', 'name': 'NEWARK BROAD ST'},{'lat': 40.734220999999998, 'lon': -74.164553999999995, 'id': '107', 'name': 'NEWARK PENN STATION'},{'lat': 40.712021999999997, 'lon': -74.386500999999996, 'id': '104', 'name': 'NEW PROVIDENCE'},{'lat': 40.750045999999998, 'lon': -73.992357999999996, 'id': '105', 'name': 'NEW YORK PENN STATION'},{'lat': 39.526440999999998, 'lon': -74.648027999999996, 'id': '39', 'name': 'EGG HARBOR'},{'lat': 40.519148000000001, 'lon': -74.410972000000001, 'id': '38', 'name': 'EDISON STATION'},{'lat': 40.831369000000002, 'lon': -74.131262000000007, 'id': '33', 'name': 'DELAWANNA'},{'lat': 40.655523000000002, 'lon': -74.303225999999995, 'id': '32', 'name': 'CRANFORD'},{'lat': 40.667152000000002, 'lon': -74.266319999999993, 'id': '31', 'name': 'ROSELLE PARK'},{'lat': 40.779040000000002, 'lon': -74.443434999999994, 'id': '30', 'name': 'CONVENT'},{'lat': 40.760976999999997, 'lon': -74.210464000000002, 'id': '37', 'name': 'EAST ORANGE'},{'lat': 40.590868999999998, 'lon': -74.463042999999999, 'id': '36', 'name': 'DUNELLEN'},{'lat': 40.883414999999999, 'lon': -74.555886999999998, 'id': '35', 'name': 'DOVER'},{'lat': 40.883899999999997, 'lon': -74.481513000000007, 'id': '34', 'name': 'DENVILLE'},{'lat': 39.993108999999997, 'lon': -75.039609999999996, 'id': '38305', 'name': 'ROUTE 73/PENNSAUKEN'},{'lat': 40.004658999999997, 'lon': -75.020391000000004, 'id': '38304', 'name': 'PALMYRA'},{'lat': 39.943258, 'lon': -75.12021, 'id': '38307', 'name': 'WALTER RAND TRANS CTR'},{'lat': 39.96096, 'lon': -75.079622000000001, 'id': '38306', 'name': '36TH STREET STATION'},{'lat': 40.039219000000003, 'lon': -74.958842000000004, 'id': '38301', 'name': 'RIVERSIDE'},{'lat': 40.048068000000001, 'lon': -74.950280000000006, 'id': '38300', 'name': 'DELANCO'},{'lat': 40.008938999999998, 'lon': -75.013081999999997, 'id': '38303', 'name': 'RIVERTON'},{'lat': 40.211928, 'lon': -74.755882, 'id': '38292', 'name': 'HAMILTON AVENUE'},{'lat': 39.945658000000002, 'lon': -75.128681999999998, 'id': '38309', 'name': 'AQUARIUM'},{'lat': 39.947597999999999, 'lon': -75.124070000000003, 'id': '38308', 'name': 'COOPER ST/RUTGERS UNIV'},{'lat': 40.077357999999997, 'lon': -74.859420999999998, 'id': '38297', 'name': 'BURLINGTON TOWNE CTR'},{'lat': 40.100048000000001, 'lon': -74.805111999999994, 'id': '38296', 'name': 'FLORENCE'},{'lat': 40.666884000000003, 'lon': -74.895863000000006, 'id': '60', 'name': 'HIGH BRIDGE'},{'lat': 40.766863000000001, 'lon': -74.243741, 'id': '61', 'name': 'HIGHLAND AVENUE'},{'lat': 41.002414000000002, 'lon': -74.041032999999999, 'id': '62', 'name': 'HILLSDALE'},{'lat': 40.734842999999998, 'lon': -74.028046000000003, 'id': '63', 'name': 'HOBOKEN'},{'lat': 40.997368999999999, 'lon': -74.113521000000006, 'id': '64', 'name': 'HOHOKUS'},{'lat': 40.810121000000002, 'lon': -74.117334, 'id': '66', 'name': 'KINGSLAND'},{'lat': 40.904218999999998, 'lon': -74.665696999999994, 'id': '67', 'name': 'LAKE HOPATCONG'},{'lat': 40.636904999999999, 'lon': -74.835766000000007, 'id': '68', 'name': 'LEBANON'},{'lat': 40.924137999999999, 'lon': -74.301826000000005, 'id': '69', 'name': 'LINCOLN PARK'},{'lat': 40.780298000000002, 'lon': -74.180473000000006, 'id': '38064', 'name': 'SILVER LAKE LIGHT RAIL STOP'},{'lat': 40.671778000000003, 'lon': -74.107493000000005, 'id': '37005', 'name': 'E 34TH STREET HBLR STATION'},{'lat': 40.678669999999997, 'lon': -74.101673000000005, 'id': '37004', 'name': 'E 45TH STREET HBLR STATION'},{'lat': 40.692357000000001, 'lon': -74.087261999999996, 'id': '37003', 'name': 'DANFORTH AVENUE HBLR STATION'},{'lat': 40.699117999999999, 'lon': -74.078643, 'id': '37002', 'name': 'RICHARD STREET HBLR STATION'},{'lat': 40.714548000000001, 'lon': -74.087581, 'id': '37001', 'name': 'WEST SIDE AVE HBLR STATION'},{'lat': 40.712007999999997, 'lon': -74.077323000000007, 'id': '37000', 'name': 'ML KING DRIVE HBLR STATION'},{'lat': 40.714427999999998, 'lon': -74.043240999999995, 'id': '36996', 'name': 'MARIN BOULEVARD HBLR STATION'},{'lat': 39.424332999999997, 'lon': -74.502094, 'id': '2', 'name': 'ABSECON'},{'lat': 39.940939999999998, 'lon': -75.128473, 'id': '38310', 'name': 'ENTERTAINMENT CENTER'},{'lat': 40.645173, 'lon': -74.878568999999999, 'id': '6', 'name': 'ANNANDALE'},{'lat': 40.074558000000003, 'lon': -74.868981000000005, 'id': '38298', 'name': 'BURLINGTON SOUTH'},{'lat': 40.781638000000001, 'lon': -74.021800999999996, 'id': '38578', 'name': 'BERGENLINE AVE'},{'lat': 40.695070000000001, 'lon': -74.403133999999994, 'id': '99', 'name': 'MURRAY HILL'},{'lat': 40.914402000000003, 'lon': -74.268158, 'id': '98', 'name': 'MOUNTAIN VIEW'},{'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '26326', 'name': 'PENN STATION LIGHT RAIL'},{'lat': 40.828639000000003, 'lon': -74.478196999999994, 'id': '91', 'name': 'MORRIS PLAINS'},{'lat': 41.040878999999997, 'lon': -74.029151999999996, 'id': '90', 'name': 'MONTVALE'},{'lat': 40.907375999999999, 'lon': -74.730653000000004, 'id': '93', 'name': 'MOUNT OLIVE'},{'lat': 40.797113000000003, 'lon': -74.474086, 'id': '92', 'name': 'MORRISTOWN'},{'lat': 40.848714999999999, 'lon': -74.205305999999993, 'id': '95', 'name': 'MOUNTAIN AVENUE'},{'lat': 40.875903999999998, 'lon': -74.481915000000001, 'id': '94', 'name': 'MOUNT TABOR'},{'lat': 40.755367, 'lon': -74.253023999999996, 'id': '97', 'name': 'MOUNTAIN STATION'},{'lat': 40.885947000000002, 'lon': -74.433604000000003, 'id': '96', 'name': 'MOUNTAIN LAKES'},{'lat': 40.577620000000003, 'lon': -74.277529999999999, 'id': '11', 'name': 'AVENEL'},{'lat': 39.363298999999998, 'lon': -74.441485999999998, 'id': '10', 'name': 'ATLANTIC CITY'},{'lat': 40.075839999999999, 'lon': -74.046933999999993, 'id': '13', 'name': 'BAY HEAD'},{'lat': 40.711378000000003, 'lon': -74.555269999999993, 'id': '12', 'name': 'BASKING RIDGE'},{'lat': 40.180590000000002, 'lon': -74.027300999999994, 'id': '15', 'name': 'BELMAR'},{'lat': 40.808177999999998, 'lon': -74.208680999999999, 'id': '14', 'name': 'BAY STREET'},{'lat': 40.682344999999998, 'lon': -74.442649000000003, 'id': '17', 'name': 'BERKELEY HEIGHTS'},{'lat': 40.792709000000002, 'lon': -74.200042999999994, 'id': '19', 'name': 'BLOOMFIELD AVENUE'},{'lat': 40.716844999999999, 'lon': -74.571022999999997, 'id': '18', 'name': 'BERNARDSVILLE'},{'lat': 40.708793999999997, 'lon': -74.658468999999997, 'id': '117', 'name': 'PEAPACK'},{'lat': 40.739497999999998, 'lon': -74.165580000000006, 'id': '39134', 'name': 'NJ PERFORMING ARTS CENTER AT CENTRE ST'},{'lat': 40.914887, 'lon': -74.167330000000007, 'id': '116', 'name': 'PATERSON'},{'lat': 40.765459999999997, 'lon': -74.179862999999997, 'id': '14984', 'name': 'BLOOMFIELD AVE LIGHT RAIL STATION'},{'lat': 40.747208999999998, 'lon': -74.171509999999998, 'id': '39130', 'name': 'BROAD STREET LIGHT RAIL STATION'},{'lat': 40.744160000000001, 'lon': -74.168491000000003, 'id': '39133', 'name': 'ATLANTIC STREET LIGHT RAIL STOP'},{'lat': 40.726818999999999, 'lon': -74.036232999999996, 'id': '37378', 'name': 'NEWPORT HBLR STATION'},{'lat': 40.255308999999997, 'lon': -74.704120000000003, 'id': '32905', 'name': 'HAMILTON'},{'lat': 40.343398000000001, 'lon': -74.659871999999993, 'id': '41586', 'name': 'PRINCETON RAILROAD STATION'},{'lat': 40.476911999999999, 'lon': -74.467363000000006, 'id': '32906', 'name': 'JERSEY AVE.'},{'lat': 41.012734000000002, 'lon': -74.123412000000002, 'id': '151', 'name': 'WALDWICK'},{'lat': 40.842004000000003, 'lon': -74.209367999999998, 'id': '150', 'name': 'UPPER MONTCLAIR'},{'lat': 40.829515999999998, 'lon': -74.206934000000004, 'id': '153', 'name': 'WATCHUNG AVENUE'},{'lat': 40.817217999999997, 'lon': -74.209630000000004, 'id': '152', 'name': 'WALNUT STREET'},{'lat': 40.649448, 'lon': -74.347628999999998, 'id': '155', 'name': 'WESTFIELD'},{'lat': 40.782743000000004, 'lon': -74.198451000000006, 'id': '154', 'name': 'WATSESSING AVENUE'},{'lat': 40.615613000000003, 'lon': -74.770660000000007, 'id': '157', 'name': 'WHITE HOUSE'},{'lat': 40.990817, 'lon': -74.032696000000001, 'id': '156', 'name': 'WESTWOOD'},{'lat': 41.021078000000003, 'lon': -74.040774999999996, 'id': '159', 'name': 'WOODCLIFF LAKE'},{'lat': 40.553133000000003, 'lon': -74.276892000000004, 'id': '158', 'name': 'WOODBRIDGE'},{'lat': 40.737408000000002, 'lon': -74.1708, 'id': '6900', 'name': 'MILITARY PARK LIGHT RAIL STATION'},{'lat': 40.813052999999996, 'lon': -74.072113999999999, 'id': '40570', 'name': 'MEADOWLANDS SPORTS COMPLEX STATION'},{'lat': 40.714978000000002, 'lon': -74.048490999999999, 'id': '36997', 'name': 'JERSEY AVENUE HBLR STATION'},{'lat': 40.761398999999997, 'lon': -74.024000000000001, 'id': '17699', 'name': 'LINCOLN HARBOR HBLR STATION'},{'lat': 40.772329999999997, 'lon': -74.178262000000004, 'id': '6907', 'name': 'DAVENPORT AVENUE LIGHT RAIL STATION'},{'lat': 40.748866999999997, 'lon': -74.038522, 'id': '38442', 'name': '9TH STREET HBLR'},{'lat': 40.678252999999998, 'lon': -74.468316999999999, 'id': '48', 'name': 'GILLETTE'},{'lat': 40.720283999999999, 'lon': -74.666370999999998, 'id': '49', 'name': 'GLADSTONE'},{'lat': 40.866669000000002, 'lon': -74.105559999999997, 'id': '46', 'name': 'GARFIELD'},{'lat': 40.652569, 'lon': -74.324793999999997, 'id': '47', 'name': 'GARWOOD'},{'lat': 40.641060000000003, 'lon': -74.385002999999998, 'id': '44', 'name': 'FANWOOD'},{'lat': 40.685712000000002, 'lon': -74.633734000000004, 'id': '45', 'name': 'FAR HILLS'},{'lat': 40.975036000000003, 'lon': -74.027471000000006, 'id': '42', 'name': 'EMERSON'},{'lat': 40.878973000000002, 'lon': -74.051893000000007, 'id': '43', 'name': 'ESSEX STREET'},{'lat': 40.265292000000002, 'lon': -73.997619999999998, 'id': '40', 'name': 'ELBERON'},{'lat': 40.667856999999998, 'lon': -74.215174000000005, 'id': '41', 'name': 'ELIZABETH'},{'lat': 39.956564999999998, 'lon': -75.182327000000001, 'id': '1', 'name': '30TH ST. PHL.'},{'lat': 40.704414999999997, 'lon': -74.190717000000006, 'id': '37953', 'name': 'NEWARK AIRPORT RAILROAD STATION'},{'lat': 40.894458, 'lon': -74.043780999999996, 'id': '5', 'name': 'ANDERSON STREET'},{'lat': 40.716009, 'lon': -74.034092000000001, 'id': '36994', 'name': 'EXCHANGE PLACE HBLR STATION'},{'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38174', 'name': 'FRANK R LAUTENBERG SECAUCUS LOWER LEVEL'},{'lat': 39.783546999999999, 'lon': -74.907588000000004, 'id': '9', 'name': 'ATCO'},{'lat': 40.712837999999998, 'lon': -74.036081999999993, 'id': '36995', 'name': 'ESSEX STREET HBLR STATION'},{'lat': 40.710509000000002, 'lon': -74.071119999999993, 'id': '36999', 'name': 'GARFIELD AVENUE HBLR STATION'},{'lat': 40.864857999999998, 'lon': -74.062675999999996, 'id': '146', 'name': 'TETERBORO'},{'lat': 40.922809000000001, 'lon': -74.343841999999995, 'id': '147', 'name': 'TOWACO'},{'lat': 41.11354, 'lon': -74.153441999999998, 'id': '144', 'name': 'SUFFERN'},{'lat': 40.716549000000001, 'lon': -74.357806999999994, 'id': '145', 'name': 'SUMMIT'},{'lat': 41.111978000000001, 'lon': -74.043991000000005, 'id': '142', 'name': 'SPRING VALLEY'},{'lat': 40.674581000000003, 'lon': -74.493723000000003, 'id': '143', 'name': 'STIRLING'},{'lat': 40.745952000000003, 'lon': -74.260537999999997, 'id': '140', 'name': 'SOUTH ORANGE'},{'lat': 40.150556999999999, 'lon': -74.035481000000004, 'id': '141', 'name': 'SPRING LAKE'},{'lat': 40.016556999999999, 'lon': -74.999942000000004, 'id': '38302', 'name': 'CINNAMINSON'},{'lat': 40.218514999999996, 'lon': -74.753926000000007, 'id': '148', 'name': 'TRENTON TRANSIT CENTER'},{'lat': 41.194208000000003, 'lon': -74.184460000000001, 'id': '149', 'name': 'TUXEDO'},{'lat': 40.757027999999998, 'lon': -74.415104999999997, 'id': '77', 'name': 'MADISON'},{'lat': 40.684843999999998, 'lon': -74.549469999999999, 'id': '76', 'name': 'LYONS'},{'lat': 40.816474999999997, 'lon': -74.124163999999993, 'id': '75', 'name': 'LYNDHURST'},{'lat': 40.297145, 'lon': -73.988331000000002, 'id': '74', 'name': 'LONG BRANCH'},{'lat': 40.326715, 'lon': -74.041054000000003, 'id': '73', 'name': 'LITTLE SILVER'},{'lat': 40.880668999999997, 'lon': -74.235371999999998, 'id': '72', 'name': 'LITTLE FALLS'},{'lat': 39.833809000000002, 'lon': -75.000314000000003, 'id': '71', 'name': 'LINDENWOLD'},{'lat': 40.629485000000003, 'lon': -74.251772000000003, 'id': '70', 'name': 'LINDEN'},{'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38187', 'name': 'FRANK R LAUTENBERG SECAUCUS UPPER LEVEL'},{'lat': 40.120573, 'lon': -74.047687999999994, 'id': '79', 'name': 'MANASQUAN'},{'lat': 41.094416000000002, 'lon': -74.146619999999999, 'id': '78', 'name': 'MAHWAH'},{'lat': 40.683663000000003, 'lon': -74.238605000000007, 'id': '38105', 'name': 'UNION'},{'lat': 40.787329999999997, 'lon': -74.031262999999996, 'id': '38579', 'name': 'TONNELLE AVE HBLR STATION'},{'lat': 40.722667999999999, 'lon': -74.037280999999993, 'id': '37377', 'name': 'HARSIMUS COVE HBLR STATION'},{'lat': 40.719526999999999, 'lon': -74.034002999999998, 'id': '37376', 'name': 'HARBORSIDE HBLR STATION'},{'lat': 40.420161, 'lon': -74.223702000000003, 'id': '37169', 'name': 'MATAWAN'},{'lat': 40.316239000000003, 'lon': -74.624350000000007, 'id': '24070', 'name': 'PRINCETON JUNCTION ON VAUGHN DRIVE'},{'lat': 40.740788999999999, 'lon': -74.043100999999993, 'id': '38441', 'name': '2ND STREET HBLR'},{'lat': 40.654297999999997, 'lon': -74.129142000000002, 'id': '42673', 'name': '8TH ST HBLR STATION'},{'lat': 40.661276999999998, 'lon': -74.116410000000002, 'id': '38229', 'name': '22ND ST HBLR STATION'}];
			walks = [[{'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '42545', 'name': 'PENN STATION LIGHT RAIL'}, {'lat': 40.734220999999998, 'lon': -74.164553999999995, 'id': '107', 'name': 'NEWARK PENN STATION'}],[{'lat': 40.218347999999999, 'lon': -74.755194000000003, 'id': '38291', 'name': 'TRENTON TRANSIT CENTER'}, {'lat': 40.218514999999996, 'lon': -74.753926000000007, 'id': '148', 'name': 'TRENTON TRANSIT CENTER'}],[{'lat': 40.734059000000002, 'lon': -74.029191999999995, 'id': '39348', 'name': 'HOBOKEN HBLR TERMINAL'}, {'lat': 40.734842999999998, 'lon': -74.028046000000003, 'id': '63', 'name': 'HOBOKEN'}],[{'lat': 40.342624999999998, 'lon': -74.659091000000004, 'id': '124', 'name': 'PRINCETON'}, {'lat': 40.343398000000001, 'lon': -74.659871999999993, 'id': '41586', 'name': 'PRINCETON RAILROAD STATION'}],[{'lat': 40.316316, 'lon': -74.623752999999994, 'id': '125', 'name': 'PRINCETON JCT.'}, {'lat': 40.316239000000003, 'lon': -74.624350000000007, 'id': '24070', 'name': 'PRINCETON JUNCTION ON VAUGHN DRIVE'}],[{'lat': 40.747621000000002, 'lon': -74.171942999999999, 'id': '106', 'name': 'NEWARK BROAD ST'}, {'lat': 40.747208999999998, 'lon': -74.171509999999998, 'id': '39130', 'name': 'BROAD STREET LIGHT RAIL STATION'}],[{'lat': 40.734220999999998, 'lon': -74.164553999999995, 'id': '107', 'name': 'NEWARK PENN STATION'}, {'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '42545', 'name': 'PENN STATION LIGHT RAIL'}],[{'lat': 40.734220999999998, 'lon': -74.164553999999995, 'id': '107', 'name': 'NEWARK PENN STATION'}, {'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '26326', 'name': 'PENN STATION LIGHT RAIL'}],[{'lat': 40.734842999999998, 'lon': -74.028046000000003, 'id': '63', 'name': 'HOBOKEN'}, {'lat': 40.734059000000002, 'lon': -74.029191999999995, 'id': '39348', 'name': 'HOBOKEN HBLR TERMINAL'}],[{'lat': 40.734810000000003, 'lon': -74.163602999999995, 'id': '26326', 'name': 'PENN STATION LIGHT RAIL'}, {'lat': 40.734220999999998, 'lon': -74.164553999999995, 'id': '107', 'name': 'NEWARK PENN STATION'}],[{'lat': 40.747208999999998, 'lon': -74.171509999999998, 'id': '39130', 'name': 'BROAD STREET LIGHT RAIL STATION'}, {'lat': 40.747621000000002, 'lon': -74.171942999999999, 'id': '106', 'name': 'NEWARK BROAD ST'}],[{'lat': 40.343398000000001, 'lon': -74.659871999999993, 'id': '41586', 'name': 'PRINCETON RAILROAD STATION'}, {'lat': 40.342624999999998, 'lon': -74.659091000000004, 'id': '124', 'name': 'PRINCETON'}],[{'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38174', 'name': 'FRANK R LAUTENBERG SECAUCUS LOWER LEVEL'}, {'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38187', 'name': 'FRANK R LAUTENBERG SECAUCUS UPPER LEVEL'}],[{'lat': 40.218514999999996, 'lon': -74.753926000000007, 'id': '148', 'name': 'TRENTON TRANSIT CENTER'}, {'lat': 40.218347999999999, 'lon': -74.755194000000003, 'id': '38291', 'name': 'TRENTON TRANSIT CENTER'}],[{'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38187', 'name': 'FRANK R LAUTENBERG SECAUCUS UPPER LEVEL'}, {'lat': 40.761187999999997, 'lon': -74.075821000000005, 'id': '38174', 'name': 'FRANK R LAUTENBERG SECAUCUS LOWER LEVEL'}],[{'lat': 40.316239000000003, 'lon': -74.624350000000007, 'id': '24070', 'name': 'PRINCETON JUNCTION ON VAUGHN DRIVE'}, {'lat': 40.316316, 'lon': -74.623752999999994, 'id': '125', 'name': 'PRINCETON JCT.'}]];
			for(var walk in walks) {
				walk = walks[walk]
				source = walk[0]
				target = walk[1]
				console.log(source.name + " to " + target.name)
				a = new google.maps.LatLng(source.lat,source.lon);
				b = new google.maps.LatLng(target.lat,target.lon);
				distance = dist(a,b);
				line = new google.maps.Polyline({
					map: map,
					path: [a,b]
				})
			}
			for(var station in stations) {
				station = stations[station]
				station.lat = Number(station.lat);
				station.lon = Number(station.lon);
				console.log(station.name)
				station.getName = function() {
					return this.name;
				}
				var latLng = new google.maps.LatLng(station.lat,station.lon);
				
				var marker = new google.maps.Marker({
					position: latLng,
					icon: 'http://ryangravener.com/marker2.gif',
					map:map
				});
				var label = new Label({
				       map: map
			     });
			     label.bindTo('position', marker, 'position');
			     label.bindTo('text', station, 'name');
			}
			routes = [];
			for(var route in routes) {
				console.log(route)
			}
			//map.fitBounds(new google.maps.LatLngBounds(new google.maps.LatLng(39.363299,-75.182327), new google.maps.LatLng(41.471786,-73.988331)));
	      }
		  
	      google.maps.event.addDomListener(window, 'load', initialize);
	    </script>
	  </head>
	  <body>
	    <div id="map_canvas"></div>
	  </body>
	</html>
	